Abstract_source
===============

<p>Я без понятия, что это. (?)</p>

Db_source
==========

<p>Класс для работы с базой данных, по сути являющийся
входной точкой в приложение и осуществляющий пред обработку
данных</p>

imports
-------

* **time**
  <p>Библиотека time присутствует для метода .sleep в функции connect, что бы 
  приостановить выполнение программы. (?)</p>
* **datetime**
  <p>Библиотека datetime присутствует для метода .date в функции __wrap_string и __data_processing,
  для проверки является ли объект или часть объекта,
  который поступает в функцию, типом дата.</p>
* **AbstractSource**
    <p>AbstractSource является родителем класса Db_source</p>
* **psycopg2**
  <p>Библиотека psycopg2 присутствует для работы с базой данных</p>
* **errorcodes**
  <p>Для выяснения ошибки.(?)</p>

Функции
--------

### __init__ ###

* **получаемые на вход данные** 
  <p>host - (?)</p>
  <p>user - имя пользователя</p>
  <p>hostpassword - пароль пользователя</p>
  <p>dbname - имя базы данных (?)</p>

### connect ###

<p>Функция для подключения к базе данных, 
а так же в случае не удачной попытки это сделать, будет переподключаться.</p>

* **получаемые на вход данные** 
  <p>retry_count - количество повторений переподключений</p>

### get_by_query ###

<p>Функция для поиска всех объектов из базы данных, в которых совподают данные в полях с теми, 
которые были во входном словаре.</p>

* **получаемые на вход данные** 
  <p>collection_name - Коллекция, класс, среди которых будем икать нужные объекты.</p>
  <p>query - Словарь с полями и значениями, совпадения с которыми мы ищем.</p>
* **данные получаемые на выходе**
  <p>Список со словарями объектов которые мы отобрали.</p>

### get_all ###

<p>Функция для поиска и вывода всех объектов определённой коллекции из базы данных.</p>

* **получаемые на вход данные** 
  <p>collection_name - Коллекция, класс, объекты которого нам нужны.</p>
* **данные получаемые на выходе** 
  <p>Список со словарями всех объектов определённой коллекции.</p>

### get_by_id ###

<p>Функция для поиска и вывода объекта определённой коллекции по определённому айди.</p>

* **получаемые на вход данные** 
  <p>collection_name - Коллекция, класс, объект которого нам нужны.</p>
  <p>get_by_id - айди объекта.</p>
* **данные получаемые на выходе** 
  <p>Словарь объекта который имеет нужный айди. Или выводит ошибку, что нет такого объекта</p>

### insert ###

<p>Функция добавляющая новый объект в коллекцию.</p>

* **получаемые на вход данные** 
  <p>collection_name - Коллекция, класс, в который будем добавлять новый объект.</p>
  <p>document - новый объект в виде словаря.</p>
* **данные получаемые на выходе** 
  <p>Словарь объекта который мы только что создали.</p>

### update ###

<p>Функция изменяющая уже существующий объект коллекции.</p>

* **получаемые на вход данные** 
  <p>collection_name - Коллекция, класс, в которой будем изменять объект.</p>
  <p>object_id - айди объекта который мы хотим изменить.</p>
  <p>document - новый объект, которым мы хотим изменить, в виде словаря.</p>
* **данные получаемые на выходе** 
  <p>Словарь объекта который мы только что заменили.</p>

### delete ###

<p>Функция удаляющая определённый объект коллекции.</p>

* **получаемые на вход данные** 
  <p>collection_name - Коллекция, класс, в которой будем удалять объект.</p>
  <p>object_id - айди объекта который мы хотим удалить.</p>
* **данные получаемые на выходе** 
  <p>Их нет.</p>

### __wrap_string ###

<p>Статическая функция для преобразования значения None в строку 'null' и 
выделения строк и значений типа date в кавычки.</p>

* **получаемые на вход данные** 
  <p>value - то что нужно проверить и если понадобится преобразовать.</p>
* **данные получаемые на выходе** 
  <p>Преобразованный объект или исходный.</p>

### __data_processing ###

<p>Функция для преобразовывания данных моделей для запроса в базу данных.</p>

* **получаемые на вход данные** 
  <p>document - модель в которой нужно проверить и если понадобится преобразовать данные.</p>
* **данные получаемые на выходе** 
  <p>Две строки - названия колонок и соответствующие значения.</p>

### __format_tuple_to_dict ###

<p>Функция для преобразовывания двух списков,
значений и имён полей полученных из курсора, в словарь.</p>

* **получаемые на вход данные** 
  <p>data - список значений.</p>
  <p>desc - список имен полей.</p>
* **данные получаемые на выходе** 
  <p>Две строки - названия колонок и соответствующие значения.</p>

### __cursor_execute_wrapper ###

<p>Функция для проверки правильности запроса и выполнения его. (?)</p>

* **получаемые на вход данные** 
  <p>cursor - курсор.</p>
  <p>request - запрос.</p>
  <p>params - по умолчанию None параметры, если понадобятся, для функции execute.</p>
* **данные получаемые на выходе** 
  <p>Их нет, возможен вывод ошибки. (?)</p>



